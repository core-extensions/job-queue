<?xml version="1.0" encoding="UTF-8" ?>
<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping
                                      http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd">

    <entity name="CoreExtensions\JobQueueBundle\Entity\Job" table="orm_jobs" schema="jobs">
        <id name="jobId" type="guid" column="job_id">
            <generator strategy="UUID"/>
        </id>

        <field name="jobType" type="string" column="job_type" length="255" nullable="false"/>
        <field name="jobCommand" type="json" column="job_command" nullable="true"/>
        <field name="createdAt" type="datetimetz_immutable" column="created_at" nullable="false"/>
        <field name="dispatchedAt" type="datetimetz_immutable" column="dispatched_at" nullable="true"/>
        <field name="dispatchedMessageId" type="string" column="dispatched_message_id" nullable="true"/>
        <field name="acceptedAt" type="datetimetz_immutable" column="accepted_at" nullable="true"/>
        <field name="workerInfo" type="json" column="worker_info" nullable="true"/>
        <field name="revokedAt" type="datetimetz_immutable" column="revoked_at" nullable="true"/>
        <field name="revokedFor" type="integer" column="revoked_for" nullable="true"/>
        <field name="revokeConfirmedAt" type="datetimetz_immutable" column="revoke_confirmed_at" nullable="true"/>
        <field name="chainId" type="guid" column="chain_id" nullable="true"/>
        <field name="chainPosition" type="integer" column="chain_position" nullable="true"/>
        <field name="result" type="json" column="result" nullable="true"/>
        <field name="resolvedAt" type="datetimetz_immutable" column="resolved_at" nullable="true"/>
        <field name="attemptsCount" type="integer" column="attempts_count" nullable="false"/>
        <field name="errors" type="json" column="errors" nullable="true"/>
        <field name="jobConfiguration" type="json" column="job_configuration" nullable="false"/>
        <field name="version" type="integer" column="version" nullable="false"/>
        <field name="sealedAt" type="datetimetz_immutable" column="sealed_at" nullable="true"/>
        <field name="sealedDue" type="integer" column="sealed_due" nullable="true"/>
    </entity>

</doctrine-mapping>